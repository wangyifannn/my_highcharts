<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width" />
    <script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"></script>
    <title>Canvas 旋转图片</title>
    <style>
        /*canvas{}*/
    </style>
    <script type="text/javascript">
        $(function() {
            var red = Math.random() * 340 + 30;

            var canvas = document.getElementById('canvas');
            var ctx1 = canvas.getContext('2d');
            ctx1.width = canvas.width;
            ctx1.height = canvas.height;
            var image1 = new Image();
            // rectCenterPoint = {
            //     x: x + width / 2,
            //     y: y + height / 2
            // }; // 矩形中心点
            image1.onload = function() {
                var xpos = canvas.width - 10;
                var ypos = canvas.height / 2;
                //原图  
                ctx1.drawImage(image1, xpos - image1.width / 2, ypos - image1.height / 2);
                ctx1.save();
                //旋转图  
                ctx1.clearRect(0, 0, canvas.width, canvas.height); //先清掉画布上的内容
                ctx1.translate(xpos, ypos);
                ctx1.rotate(red * Math.PI / 180); //旋转47度  
                ctx1.translate(-xpos, -ypos);
                ctx1.drawImage(image1, xpos - image1.width / 2, ypos - image1.height / 2);
                ctx1.restore();
            }
            image1.src = './point.png';
        });
    </script>
</head>

<body>
    <div>
        <canvas id="canvas" width="270" height="100">  
            <b>浏览器不支持时显示部分</b>  
        </canvas>
    </div>
</body>

</html>